{% extends "./Base.html" %}

{% block content %}
{% load static %}
<script>
    var camera, scene, renderer
    var mouse = new THREE.Vector2(), INTERSECTED
    var mesh
    var raycaster = new THREE.Raycaster()
	var mouseVector = new THREE.Vector3()

    init()
    animate()

    
    {% include './js/init.js' %}

    function onWindowResize() {

        camera.aspect = window.innerWidth / window.innerHeight
        camera.updateProjectionMatrix()

        renderer.setSize( window.innerWidth, window.innerHeight )

    }
    function animate() {
        requestAnimationFrame( animate )
        butterfly_1.rotation.y += 0.01        
        renderer.render( scene, camera )
    }

	function wingAnimate(ll,ls,rl,rs) {
        ll.rotation.z += 0.005;
		// butterfly_1.rotation.y += 0.01;
        // renderer.render( scene, camera )
    }

    {% include './js/ground.js' %}
    {% include './js/tree.js' %}
    {% include './js/butterfly.js' %}

    // 다른 객체들 추가해주세요!!

    function onDocumentMouseDown( event ) {
		event.preventDefault();
		x = ( event.clientX / window.innerWidth ) * 2 - 1
		y = - ( event.clientY  / window.innerHeight ) * 2 + 1
		mouseVector.set( x, y, 0.5 )
		raycaster.setFromCamera( mouseVector, camera )
		var obj = raycaster.intersectObject( scene, true )
		var obj_name = obj[0].object.name
		if (obj_name!=""){
			console.log(obj_name)
		}
	}
</script>
{% endblock %}